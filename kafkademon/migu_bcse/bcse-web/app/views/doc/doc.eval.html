<h2>8.评测体系</h2>
<div class="app-search-test col-xs-12">
  <article>
    <section>
      搜索质量评估是搜索技术研究的基础性工作，也是核心工作之一。BC-SE的完整评测体系由应用、正确答案集、评测指标构成，主要包括三个环节：
    </section>
    <section>
      1.	选择需要评测的应用
    </section>
    <section>
      2.	抽取代表性的查询词，组成一个规模适当的集合。针对查询样例集合，从检索系统的语料库中寻找对应的结果，进行标注（通常人工进行）
    </section>
    <section>
      3.	将查询词和带有标注信息的语料库输入检索系统，对系统反馈的检索结果，使用预定义好的评价计算公式，用数值化的方法来评价检索系统结果和标注的理想结果的接近程度
    </section>
    <article>
      <section>BC-SE评测体系指标说明：</section>
      <h4>1. P@N计算方法</h4>
      <section>
        P@N本身是Precision@N的简称，指的是对特定的查询词，检测前N条结果的准确率。例如对单次搜索结果的前5篇，有4篇文档被检索到，则P@5 = 4/5 = 0.8 。
      </section>
      <h4>2. S@N计算方法</h4>
      <section>S@N体现的是文档的召回率，检测前N条结果的召回率指标。例如对单次搜索的结果前5篇，有4篇被检索到，而语料共20篇，则S@N = 4/20 = 0.2 。</section>
      <h4>3. MRR计算方法</h4>
      <section>由于搜索引擎的评价是和排序位置极为相关的。排第一的结果错误和第10位的结果错误，其严重程度有天壤之别。因此在评价系统中，需要引入位置这个因素。MRR是平均排序倒数（Mean Reciprocal Rank）的简称，更关注搜索引擎检索到的相关文档是否排在结果列表的前面。MRR方法首先计算每一个查询词的第一个相关文档位置的倒数，然后将所有倒数值求平均。例如一个包含三个查询词的测试集，前5条结果分别为：</section>
      <section>
        <ul>
          <li>查询一结果：1.AN 2.AR 3.AN 4.AN 5.AR</li>
          <li>查询二结果：1.AN 2.AR 3.AR 4.AR 5.AN</li>
          <li>查询三结果：1.AR 2.AN 3.AN 4.AN 5.AR</li>
        </ul>
      </section>
      <section>其中AN表示不相关结果，AR表示相关结果。那么第一个查询词的排序倒数（Reciprocal Rank）RR1 = 1/2=0.5 ；第二个结果RR2 = 1/2 = 0.5 ；第三个结果RR3= 1/1 = 1。 对于这个测试集合，最终MRR=（RR1+RR2+RR3）/ 3 = 0.67然而对大部分检索应用来说，只有一条结果无法满足需求，对这种情况，需要更合适的方法来计算效果，其中最常用的就是MAP方法。</section>
      <h4>4. MAP计算方法</h4>
      <section>MAP方法是Mean Average Precison，即平均准确率法的简称。其定义是求每个相关文档检索出后的准确率的平均值（即Average Precision）的算术平均值（Mean）。这里对准确率求了两次平均，因此称为Mean Average Precision。MAP 是反映系统在全部相关文档上性能的单值指标。系统检索出来的相关文档越靠前，MAP就应该越高。如果系统没有返回相关文档，则准确率默认为0。例如：假设有两个查询词：</section>
      <section>
        <ul>
          <li>查询词1的结果有4个相关网页，其排序分别为1, 2, 4, 7</li>
          <li>查询词2的结果有5个相关网页，其排序分别为1,3,5</li>
          <li>对于查询词1，平均准确率MAP计算公式为：</li>
          <li>(1/1+2/2+3/4+4/7)/4=0.83。</li>
          <li>对于查询词2，平均准确率MAP计算公式为：</li>
          <li>(1/1+2/3+3/5+0+0)/5=0.45。</li>
          <li>则MAP= (0.83+0.45)/2=0.64。</li>
        </ul>
      </section>
      <section>BC-SE评测体系的具体操作步骤：</section>
      <section>1.	点击上方导航栏的评测体系，进入评测体系界面。填写评测的应用名称（目前仅支持BC-SE平台中已创建的，第三方应用暂不支持），选择排序配置,填写解析字段。解析字段的id会默认选中，还需要添加标题字段，方便用户进行查询词结果的比对。返回格式默认为json。</section>
      <section class="center">
        <img src="images/doc/eval/1.jpg" animate-visible="true" animate-speed="0.5s" alt="普通搜索">
        <footer>图8.1.1 填写基本信息</footer>
      </section>
      <section>2.	上传语料：语料是评测的依据（标准答案），语料支持csv格式上传，大小不超过10M，每个查询词的语料数不超过20条。语料的样例可以点击“样例数据”进行查看（如下图）。</section>
      <section class="center">
        <img src="images/doc/eval/2.jpg" animate-visible="true" animate-speed="0.5s" alt="普通搜索">
      </section>
      <section class="center">
        <img src="images/doc/eval/3.jpg" animate-visible="true" animate-speed="0.5s" alt="普通搜索">
        <footer>图8.2.1 上传语料</footer>
      </section>
      <section>3.	选择评测的前N条数量。N代表评测的前N条数据，可以选择5条、10条、15条和20条。默认为前5条。界面默认展示P@N，S@N，MRR，MAP的指标说明。用户点击“开始评测”即可获取相关评测指标（如下图）。</section>
      <section class="center">
        <img src="images/doc/eval/4.jpg" animate-visible="true" animate-speed="0.5s" alt="普通搜索">
      </section>
      <section class="center">
        <img src="images/doc/eval/5.jpg" animate-visible="true" animate-speed="0.5s" alt="普通搜索">
        <footer>图8.3.1 评测结果</footer>
      </section>
      <section>4.	在评测结果分析界面，用户点击“详情”，可以查看某个特定输入词的实际搜索结果和语料搜索结果的对比，包括两者的ID和标题字段（如下图）。用户点击“导出EXCEL”，即可下载评测结果的excel文档进行分析。</section>
      <section class="center">
        <img src="images/doc/eval/6.jpg" animate-visible="true" animate-speed="0.5s" alt="普通搜索">
      </section>
      <section class="center">
        <img src="images/doc/eval/7.jpg" animate-visible="true" animate-speed="0.5s" alt="普通搜索">
      </section>
      <section class="center">
        <img src="images/doc/eval/8.jpg" animate-visible="true" animate-speed="0.5s" alt="普通搜索">
      </section>
      <section class="center">
        <img src="images/doc/eval/9.jpg" animate-visible="true" animate-speed="0.5s" alt="普通搜索">
        <footer>图8.4.1 评测结果分析</footer>
      </section>
    </article>
  <back-to-top></back-to-top>
</div>
